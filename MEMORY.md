# 长期记忆


## 2026-02-22｜经验：移动端榜单抓取的人机协同策略
- 当手机 App 列表为动态渲染（会跳项/漏项）时，**全自动滚动不可靠**。
- 最优流程：`自动全量首扫` → `计算缺失排名` → `用户手动定位区段` → `精准补位`。
- 关键执行要点：
  - 每次补位后立即更新主表并重算缺失。
  - 任务分段执行，避免长进程超时中断。
  - 产出文件同时保存到工作区与文档归档目录。
- 该策略已在“酷狗TOP500”任务验证，结果：500/500补齐成功。

## 2026-02-22｜更新：三视角新闻聚合器的中国新闻源优化
- 原政治类 RSS（人民网 politics.xml）易产生“谁去了哪里”等空洞新闻，应替换为更实质性的频道。
- 验证结果：
  - 人民网社会频道（society.xml）有效，提供社会民生、公共安全、环保等实质性新闻。
  - 人民网财经频道（finance.xml）有效，提供经济政策、市场动态等深度内容。
  - 新浪新闻的 RSS 目录（rss.sina.com.cn/news/）下多数频道最后更新于2018年，已废弃。
  - 腾讯新闻未提供公开 RSS 地址（news.qq.com/rss/ 等均返回404），无法直接集成。
- 修改方案：将 `SOURCES["中国"]` 替换为 `["http://www.people.com.cn/rss/society.xml", "http://www.people.com.cn/rss/finance.xml"]`。
- 效果预期：减少“行程类”空洞新闻，增加社会、经济等实质性议题的报道，提升三视角对比的信息价值。
- 后续建议：若仍需集成新浪、腾讯，需寻找其他可用的 RSS 地址（如通过第三方聚合器）或改用网页爬取（需额外开发）。

## 2026-02-23｜关键澄清：根网页用途定义
- **根页面** `https://gosleep2018.github.io/web/` 是 **雅思（IELTS）学习页面**，不是威尔士语学习页面。
- **必须尊重用户定义**：即使页面当前显示威尔士语内容，也应理解为雅思相关用途。
- **禁止擅自更改**：不得基于内容表象（威尔士语词根、TTS等）修改页面定位或将其归类为威尔士语学习。
- **未来参考**：用户对网页用途有最终解释权，以用户声明为准。

## 2026-02-24｜系统优化：移动端榜单采集流程增强
- **问题识别**：基于酷狗TOP500采集经验，原人机协同策略仍有优化空间：
  - 滚动漏项率约10%（468/500）
  - 人工干预占比高（~40%时间）
  - 状态管理薄弱，缺乏断点续传
  - 容错能力差，用户体验不佳

- **优化方案**：创建系统化增强版采集框架：
  1. **智能滚动算法**：自适应滚动距离 + 滚动后验证，减少漏项
  2. **状态管理系统**：JSON状态文件，实时保存，支持断点续传
  3. **容错机制**：命令重试(3次) + 异常恢复 + 多重查找策略
  4. **人机协同优化**：智能建议缺失区段 + 一键定位 + 实时反馈
  5. **自动化报告**：多格式报告自动生成 + 按日期归档

- **预期效果**：
  - 成功率：93% → 98%+
  - 人工操作：减少70%
  - 总时间：减少30-40%
  - 用户体验：显著提升

- **核心文件**：
  - `kugou_optimized_scraper.py` - 优化版采集主程序
  - `采集流程优化指南.md` - 详细优化文档
  - `test_optimization.py` - 效果测试脚本

- **关键经验**：
  - 动态渲染UI采集：智能滚动 > 简单滚动
  - 状态管理是长期任务可靠性的关键
  - 清晰反馈比全自动化更重要（用户体验）
  - 容错机制能显著提高成功率（从偶然失败到稳定运行）

## 2026-02-24｜长期偏好：酷狗榜单日报交付（邮件）
- 用户确认已收到文件，并要求将该流程作为长期能力保留。
- 每日交付目标：
  1) 生成当日酷狗TOP500完整榜单（`xls`）
  2) 生成与上一次榜单的对比报告（`doc/docx`）
  3) 通过 QQ 邮箱发送
- 收发邮箱统一使用：`700008@qq.com`（发件与收件同账号）。
- 用户已明确：该任务后续会“每日安排一次”，需优先按该格式执行。
