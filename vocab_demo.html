<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ¯æ—¥å•è¯å¡ï¼ˆå¸¦å‘éŸ³æŒ‰é’®ï¼‰</title>
  <style>
    :root {
      --bg: #0b1020;
      --card: #141b34;
      --text: #eaf0ff;
      --muted: #9fb0d8;
      --accent: #60a5fa;
      --ok: #34d399;
      --border: #2a355f;
    }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Noto Sans CJK SC", sans-serif;
      background: linear-gradient(180deg, #070b16, #0d1530);
      color: var(--text);
      min-height: 100vh;
      padding: 24px;
    }
    .wrap {
      max-width: 900px;
      margin: 0 auto;
    }
    h1 {
      margin: 0 0 8px;
      font-size: 28px;
    }
    .sub {
      color: var(--muted);
      margin-bottom: 20px;
    }
    .toolbar {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 18px;
    }
    button {
      background: #1b2650;
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 10px 14px;
      cursor: pointer;
      font-size: 14px;
    }
    button:hover { border-color: var(--accent); }
    .primary { background: #1f3a8a; border-color: #2746a5; }
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 14px;
    }
    .card {
      background: rgba(20, 27, 52, 0.9);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 14px;
    }
    .word {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 4px;
    }
    .phonetic {
      color: var(--muted);
      font-size: 14px;
      margin-bottom: 8px;
    }
    .meta {
      font-size: 14px;
      color: #cdd9ff;
      margin: 6px 0;
      line-height: 1.5;
    }
    .tags { margin-top: 8px; }
    .tag {
      display: inline-block;
      font-size: 12px;
      color: #b8f3d8;
      border: 1px solid #1f7a57;
      padding: 2px 8px;
      border-radius: 999px;
      margin-right: 6px;
      margin-top: 6px;
    }
    .audio-row {
      display: flex;
      gap: 8px;
      margin-top: 10px;
      flex-wrap: wrap;
    }
    .status {
      margin: 12px 0 20px;
      color: var(--ok);
      font-size: 14px;
      min-height: 20px;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>ğŸ“˜ æ¯æ—¥å•è¯å¡ï¼ˆç‚¹å‡»å³æ’­ï¼‰</h1>
    <div class="sub">åŒ…å«ï¼šå•è¯ã€éŸ³æ ‡ã€è¯ä¹‰ã€ä¾‹å¥ã€æ ‡ç­¾ã€å‘éŸ³æŒ‰é’®ï¼ˆç¾éŸ³/è‹±éŸ³ï¼‰</div>

    <div class="toolbar">
      <button class="primary" id="playAllUS">ğŸ”Š å…¨éƒ¨ç¾éŸ³</button>
      <button id="playAllUK">ğŸ”Š å…¨éƒ¨è‹±éŸ³</button>
      <button id="stopAll">â¹ åœæ­¢æ’­æ”¾</button>
    </div>

    <div id="status" class="status"></div>
    <div id="cards" class="cards"></div>
  </div>

  <script>
    const words = [
      {
        text: "resilient",
        phonetic: "/rÉªËˆzÉªliÉ™nt/",
        pos: "adj.",
        meaning: "æœ‰éŸ§æ€§çš„ï¼›æ¢å¤åŠ›å¼ºçš„",
        example: "She is resilient and recovers quickly from setbacks.",
        level: "B2",
        familiarity: "æ–°è¯"
      },
      {
        text: "meticulous",
        phonetic: "/mÉ™ËˆtÉªkjÉ™lÉ™s/",
        pos: "adj.",
        meaning: "ä¸€ä¸ä¸è‹Ÿçš„ï¼›éå¸¸ä»”ç»†çš„",
        example: "He keeps meticulous notes for every meeting.",
        level: "C1",
        familiarity: "å¤ä¹ "
      },
      {
        text: "pragmatic",
        phonetic: "/prÃ¦É¡ËˆmÃ¦tÉªk/",
        pos: "adj.",
        meaning: "åŠ¡å®çš„ï¼›è®²æ±‚å®é™…çš„",
        example: "We need a pragmatic solution, not a perfect one.",
        level: "B2",
        familiarity: "é«˜é¢‘"
      }
    ];

    const statusEl = document.getElementById("status");
    const cardsEl = document.getElementById("cards");

    function speakWord(text, accent = "us") {
      window.speechSynthesis.cancel();
      const u = new SpeechSynthesisUtterance(text);
      u.rate = 0.92;
      u.pitch = 1;
      u.lang = accent === "uk" ? "en-GB" : "en-US";
      statusEl.textContent = `æ­£åœ¨æ’­æ”¾ï¼š${text}ï¼ˆ${accent === "uk" ? "è‹±éŸ³" : "ç¾éŸ³"}ï¼‰`;
      u.onend = () => { statusEl.textContent = `æ’­æ”¾å®Œæˆï¼š${text}`; };
      u.onerror = () => { statusEl.textContent = `æ’­æ”¾å¤±è´¥ï¼š${text}ï¼ˆè¯·æ£€æŸ¥æµè§ˆå™¨è¯­éŸ³æƒé™ï¼‰`; };
      window.speechSynthesis.speak(u);
    }

    async function playAll(accent = "us") {
      window.speechSynthesis.cancel();
      for (const item of words) {
        await new Promise((resolve) => {
          const u = new SpeechSynthesisUtterance(item.text);
          u.rate = 0.92;
          u.lang = accent === "uk" ? "en-GB" : "en-US";
          statusEl.textContent = `æ­£åœ¨æ’­æ”¾ï¼š${item.text}ï¼ˆ${accent === "uk" ? "è‹±éŸ³" : "ç¾éŸ³"}ï¼‰`;
          u.onend = resolve;
          u.onerror = resolve;
          window.speechSynthesis.speak(u);
        });
      }
      statusEl.textContent = "å…¨éƒ¨æ’­æ”¾å®Œæˆ âœ…";
    }

    function render() {
      cardsEl.innerHTML = words.map(w => `
        <article class="card">
          <div class="word">${w.text}</div>
          <div class="phonetic">${w.phonetic}</div>
          <div class="meta"><b>${w.pos}</b> ${w.meaning}</div>
          <div class="meta">ä¾‹å¥ï¼š${w.example}</div>
          <div class="tags">
            <span class="tag">ç­‰çº§ ${w.level}</span>
            <span class="tag">${w.familiarity}</span>
          </div>
          <div class="audio-row">
            <button onclick="speakWord('${w.text}', 'us')">ğŸ”Š ç¾éŸ³</button>
            <button onclick="speakWord('${w.text}', 'uk')">ğŸ”Š è‹±éŸ³</button>
          </div>
        </article>
      `).join("");
    }

    document.getElementById("playAllUS").addEventListener("click", () => playAll("us"));
    document.getElementById("playAllUK").addEventListener("click", () => playAll("uk"));
    document.getElementById("stopAll").addEventListener("click", () => {
      window.speechSynthesis.cancel();
      statusEl.textContent = "å·²åœæ­¢æ’­æ”¾";
    });

    render();
  </script>
</body>
</html>
