<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CNN/BBC æ¯æ—¥10è¯ï¼ˆå¯å‘éŸ³+å¯å¤ä¹ ï¼‰</title>
  <style>
    *{box-sizing:border-box}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;background:#0f172a;color:#e2e8f0}
    .wrap{max-width:960px;margin:0 auto;padding:20px}
    h1{font-size:28px;margin:0 0 10px;color:#60a5fa}
    .sub{color:#94a3b8;margin-bottom:16px}
    .bar{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0 20px}
    button{border:0;border-radius:10px;padding:10px 14px;cursor:pointer;color:#fff;background:#2563eb}
    button.warn{background:#ef4444}button.alt{background:#475569}
    .card{background:#1e293b;border:1px solid #334155;border-radius:12px;padding:16px;margin:12px 0}
    .word{font-size:24px;font-weight:700}.ph{color:#94a3b8;font-style:italic}
    .row{margin-top:8px;line-height:1.6}.zh{color:#fbbf24}
    .example{padding:10px;border-left:3px solid #60a5fa;background:#0f172a;border-radius:8px;margin-top:8px}
    .history{margin-top:28px}.history h2{font-size:20px;color:#93c5fd}
    details{background:#111827;border:1px solid #334155;border-radius:10px;padding:8px 12px;margin:8px 0}
    summary{cursor:pointer;color:#cbd5e1}
    .tag{display:inline-block;background:#334155;color:#e2e8f0;border-radius:999px;padding:2px 8px;margin:4px 6px 0 0;font-size:12px}
    .muted{color:#94a3b8;font-size:13px}
  </style>
</head>
<body>
<div class="wrap">
  <h1>ğŸ§ CNN/BBC æ¯æ—¥10è¯</h1>
  <div class="sub">æ¢å¤ï¼šå•è¯å‘éŸ³ + ä¾‹å¥å‘éŸ³ + ä¸­æ–‡è§£é‡Š + è‹±æ–‡é‡Šä¹‰ + å†å²å¤ä¹ </div>
  <div class="bar">
    <button onclick="playAllWords()">ğŸ”Š æ’­æ”¾ä»Šæ—¥10è¯</button>
    <button onclick="playAllExamples()">ğŸ§ æ’­æ”¾ä»Šæ—¥ä¾‹å¥</button>
    <button class="warn" onclick="stopAll()">â¹ åœæ­¢</button>
    <button class="alt" onclick="refreshToday(true)">ğŸ”„ é‡æ–°æŠ½å–ä»Šæ—¥10è¯</button>
  </div>
  <div id="today"></div>

  <div class="history">
    <h2>ğŸ“š å†å²è®°å½•ï¼ˆå¤ä¹ ï¼‰</h2>
    <div class="muted">è‡ªåŠ¨è®°å½•æ¯å¤©çš„10ä¸ªå•è¯ã€‚å¯ç‚¹å¼€æŒ‰æ—¥æœŸå¤ä¹ ã€‚</div>
    <div id="history"></div>
  </div>
</div>

<script>
const VOCAB = [
  ["election","/ÉªËˆlekÊƒn/","é€‰ä¸¾","A formal voting process to choose leaders.","The presidential election will be held next month.","æ€»ç»Ÿé€‰ä¸¾å°†äºä¸‹ä¸ªæœˆä¸¾è¡Œã€‚","CNN"],
  ["summit","/ËˆsÊŒmÉªt/","å³°ä¼š","A high-level meeting between leaders.","World leaders will attend the climate summit.","ä¸–ç•Œé¢†å¯¼äººå°†å‡ºå¸­æ°”å€™å³°ä¼šã€‚","CNN"],
  ["parliament","/ËˆpÉ‘ËrlÉ™mÉ™nt/","è®®ä¼š","A countryâ€™s main law-making body.","The bill was passed by parliament yesterday.","è¯¥æ³•æ¡ˆæ˜¨å¤©åœ¨è®®ä¼šé€šè¿‡ã€‚","BBC"],
  ["innovation","/ËŒÉªnÉ™ËˆveÉªÊƒn/","åˆ›æ–°","A new method, idea, or product.","Technological innovation is driving growth.","æŠ€æœ¯åˆ›æ–°æ­£åœ¨æ¨åŠ¨å¢é•¿ã€‚","BBC"],
  ["inequality","/ËŒÉªnÉªËˆkwÉ’lÉ™ti/","ä¸å¹³ç­‰","Lack of equality in society.","The report highlights income inequality.","æŠ¥å‘Šå¼ºè°ƒäº†æ”¶å…¥ä¸å¹³ç­‰ã€‚","BBC"],
  ["inflation","/ÉªnËˆfleÉªÊƒn/","é€šè´§è†¨èƒ€","A general rise in prices.","Inflation has reached a 10-year high.","é€šèƒ€è¾¾åˆ°åå¹´é«˜ä½ã€‚","BBC"],
  ["climate","/ËˆklaÉªmÉ™t/","æ°”å€™","Long-term weather patterns.","Climate change is affecting weather patterns.","æ°”å€™å˜åŒ–æ­£åœ¨å½±å“å¤©æ°”æ¨¡å¼ã€‚","CNN"],
  ["reform","/rÉªËˆfÉ”Ërm/","æ”¹é©","A change made to improve a system.","Education reform is a key priority.","æ•™è‚²æ”¹é©æ˜¯é‡ç‚¹ã€‚","CNN"],
  ["diplomacy","/dÉªËˆplÉ™ÊŠmÉ™si/","å¤–äº¤","Managing international relations.","Diplomacy reduced tensions in the region.","å¤–äº¤ç¼“å’Œäº†åœ°åŒºç´§å¼ å±€åŠ¿ã€‚","BBC"],
  ["GDP","/ËŒdÊ’iË diË ËˆpiË/","å›½å†…ç”Ÿäº§æ€»å€¼","Total value of goods/services produced.","GDP grew by 3% this quarter.","æœ¬å­£åº¦GDPå¢é•¿3%ã€‚","CNN"],
  ["sanction","/ËˆsÃ¦Å‹kÊƒn/","åˆ¶è£","A penalty imposed by one country on another.","New sanctions were announced on Friday.","å‘¨äº”å®£å¸ƒäº†æ–°åˆ¶è£ã€‚","BBC"],
  ["ceasefire","/ËˆsiËsfaÉªÉ™(r)/","åœç«","An agreement to stop fighting.","Both sides agreed to a temporary ceasefire.","åŒæ–¹åŒæ„ä¸´æ—¶åœç«ã€‚","CNN"],
  ["coalition","/ËŒkÉ™ÊŠÉ™ËˆlÉªÊƒn/","è”ç›Ÿ","A temporary alliance for combined action.","A coalition government was formed.","è”åˆæ”¿åºœæˆç«‹äº†ã€‚","BBC"],
  ["tariff","/ËˆtÃ¦rÉªf/","å…³ç¨","A tax on imported goods.","The new tariff affects steel imports.","æ–°å…³ç¨å½±å“é’¢é“è¿›å£ã€‚","CNN"],
  ["benchmark","/ËˆbentÊƒmÉ‘Ëk/","åŸºå‡†","A standard for comparison.","Oil prices hit a new benchmark.","æ²¹ä»·è§¦åŠæ–°åŸºå‡†ã€‚","BBC"],
  ["volatility","/ËŒvÉ’lÉ™ËˆtÉªlÉ™ti/","æ³¢åŠ¨æ€§","Frequent and large changes.","Markets showed high volatility today.","ä»Šå¤©å¸‚åœºæ³¢åŠ¨è¾ƒå¤§ã€‚","CNN"],
  ["consensus","/kÉ™nËˆsensÉ™s/","å…±è¯†","General agreement among a group.","Economists reached a consensus on rates.","ç»æµå­¦å®¶å¯¹åˆ©ç‡å½¢æˆå…±è¯†ã€‚","BBC"],
  ["fiscal","/ËˆfÉªskl/","è´¢æ”¿çš„","Related to government revenue and spending.","Fiscal policy will be tightened.","è´¢æ”¿æ”¿ç­–å°†æ”¶ç´§ã€‚","CNN"],
  ["stimulus","/ËˆstÉªmjÉ™lÉ™s/","åˆºæ¿€æªæ–½","Action to encourage economic activity.","The government announced a stimulus package.","æ”¿åºœå®£å¸ƒåˆºæ¿€æ–¹æ¡ˆã€‚","BBC"],
  ["sovereignty","/ËˆsÉ’vrÉ™nti/","ä¸»æƒ","A state's authority to govern itself.","The debate focused on national sovereignty.","è®¨è®ºèšç„¦å›½å®¶ä¸»æƒã€‚","CNN"]
];

let currentUtterances = [];

function dateKey(){
  const d = new Date();
  const y=d.getFullYear(),m=String(d.getMonth()+1).padStart(2,'0'),day=String(d.getDate()).padStart(2,'0');
  return `${y}-${m}-${day}`;
}

function seededShuffle(arr, seedStr){
  let seed = [...seedStr].reduce((a,c)=>a+c.charCodeAt(0),0) || 1;
  const a = arr.slice();
  for(let i=a.length-1;i>0;i--){
    seed = (seed * 9301 + 49297) % 233280;
    const j = Math.floor((seed/233280)*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

function getTodayWords(forceNew=false){
  const k = dateKey();
  const store = JSON.parse(localStorage.getItem('vocabHistory')||'{}');
  if(!forceNew && store[k] && store[k].length===10) return store[k];
  const picked = seededShuffle(VOCAB, k + (forceNew?'-force':'' )).slice(0,10);
  store[k]=picked;
  localStorage.setItem('vocabHistory', JSON.stringify(store));
  return picked;
}

function speak(text){
  stopAll();
  const u = new SpeechSynthesisUtterance(text);
  u.lang='en-US';
  speechSynthesis.speak(u);
  currentUtterances=[u];
}

function stopAll(){ speechSynthesis.cancel(); currentUtterances=[]; }

function playWord(w){ speak(w); }
function playExample(s){ speak(s); }
function playDef(s){ speak(s); }

async function playAllWords(){
  stopAll();
  const words=getTodayWords();
  for(const w of words){ await speakAsync(w[0]); }
}
async function playAllExamples(){
  stopAll();
  const words=getTodayWords();
  for(const w of words){ await speakAsync(w[4]); }
}
function speakAsync(text){
  return new Promise(resolve=>{
    const u = new SpeechSynthesisUtterance(text);
    u.lang='en-US';
    u.onend=()=>resolve(); u.onerror=()=>resolve();
    speechSynthesis.speak(u);
  });
}

function renderToday(forceNew=false){
  const box=document.getElementById('today');
  const words=getTodayWords(forceNew);
  box.innerHTML = `<div class="muted">ä»Šæ—¥æ—¥æœŸï¼š${dateKey()}ï¼ˆ10ä¸ªï¼‰</div>` + words.map((w,i)=>`
    <div class="card">
      <div class="word">${i+1}. ${w[0]}</div>
      <div class="ph">${w[1]}</div>
      <div class="row zh">ä¸­æ–‡è§£é‡Šï¼š${w[2]}</div>
      <div class="row">è‹±æ–‡é‡Šä¹‰ï¼š${w[3]}</div>
      <div class="example">
        <div>${w[4]}</div>
        <div class="muted">${w[5]} Â· Source: ${w[6]}</div>
      </div>
      <div class="bar">
        <button onclick="playWord('${w[0].replace(/'/g,"\\'")}')">ğŸ”Š å•è¯å‘éŸ³</button>
        <button onclick="playExample('${w[4].replace(/'/g,"\\'")}')">ğŸ§ ä¾‹å¥å‘éŸ³</button>
        <button class="alt" onclick="playDef('${w[3].replace(/'/g,"\\'")}')">ğŸ“– é‡Šä¹‰å‘éŸ³</button>
      </div>
    </div>`).join('');
}

function renderHistory(){
  const el=document.getElementById('history');
  const store=JSON.parse(localStorage.getItem('vocabHistory')||'{}');
  const days=Object.keys(store).sort().reverse();
  if(!days.length){ el.innerHTML='<div class="muted">æš‚æ— å†å²è®°å½•ï¼Œä»Šæ—¥è®¿é—®åå°†è‡ªåŠ¨è®°å½•ã€‚</div>'; return; }
  el.innerHTML = days.map(day=>{
    const arr=store[day]||[];
    return `<details><summary>${day}ï¼ˆ${arr.length}è¯ï¼‰</summary><div style="margin-top:8px">${arr.map(x=>`<span class='tag'>${x[0]}</span>`).join('')}</div></details>`;
  }).join('');
}

function refreshToday(force){ renderToday(force); renderHistory(); }

refreshToday(false);
</script>
</body>
</html>
